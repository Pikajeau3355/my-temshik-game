<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>UA Temshik Elite</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;400;600;800&display=swap');
        
        :root {
            --primary: #007aff; --accent: #00f2ff; --gold: #ffcc00;
            --bg: #000000; --card-bg: rgba(28, 28, 30, 0.7);
            --success: #32d74b; --danger: #ff453a;
        }

        body {
            margin: 0; background: var(--bg); color: #ffffff;
            font-family: 'Inter', sans-serif; overflow: hidden;
            height: 100vh; display: flex; flex-direction: column;
            background-image: radial-gradient(circle at 50% -10%, #1a1a1a 0%, #000 70%);
        }

        /* –ê–Ω—ñ–º–æ–≤–∞–Ω–∏–π —Ñ–æ–Ω –∑–∞ –≥–æ–ª–æ–≤–Ω–æ—é –ø–∞–Ω–µ–ª–ª—é */
        body::before {
            content: ''; position: fixed; top: -50%; left: -50%; width: 200%; height: 200%;
            background: radial-gradient(circle, rgba(0,122,255,0.05) 0%, transparent 50%);
            animation: rotate 20s linear infinite; z-index: -1;
        }
        @keyframes rotate { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* Header Area */
        .header {
            padding: 40px 20px 25px; text-align: center;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            backdrop-filter: blur(20px); z-index: 10;
        }
        .balance-title { font-size: 10px; text-transform: uppercase; letter-spacing: 3px; color: #8e8e93; margin-bottom: 8px; }
        .balance { 
            font-family: 'Syncopate', sans-serif; font-size: 38px; font-weight: 700; 
            background: linear-gradient(180deg, #fff 0%, var(--gold) 100%);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 20px rgba(255,204,0,0.2);
        }

        .stats-bar {
            display: flex; justify-content: center; gap: 20px; margin-top: 15px;
        }
        .stat-badge {
            background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px;
            font-size: 11px; font-weight: 600; color: var(--accent);
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* Content Container */
        .main-view { flex: 1; overflow-y: auto; padding: 20px; padding-bottom: 120px; }
        .tab-content { display: none; animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
        .tab-content.active { display: block; }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* Premium Cards */
        .card {
            background: var(--card-bg); border-radius: 24px; padding: 20px;
            margin-bottom: 16px; border: 1px solid rgba(255,255,255,0.08);
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .info h3 { margin: 0; font-size: 17px; font-weight: 700; letter-spacing: -0.5px; }
        .info p { margin: 5px 0 0; font-size: 12px; color: #8e8e93; }

        /* Buttons */
        .btn-action {
            background: #fff; color: #000; border: none; padding: 12px 22px;
            border-radius: 14px; font-weight: 800; font-size: 13px;
            transition: all 0.2s; box-shadow: 0 5px 15px rgba(255,255,255,0.1);
        }
        .btn-action:active { transform: scale(0.9); background: var(--accent); }
        .btn-action:disabled { background: #2c2c2e; color: #48484a; box-shadow: none; }

        /* Crypto Live Price */
        .price-tag { 
            font-family: 'Syncopate', sans-serif; font-size: 14px; padding: 8px 12px;
            border-radius: 12px; background: rgba(0,0,0,0.5);
        }

        /* Navigation */
        .nav-dock {
            position: fixed; bottom: 20px; left: 20px; right: 20px;
            background: rgba(28, 28, 30, 0.85); backdrop-filter: blur(30px);
            border-radius: 30px; height: 75px; display: flex;
            justify-content: space-around; align-items: center;
            border: 1px solid rgba(255,255,255,0.1); z-index: 100;
        }
        .nav-btn {
            display: flex; flex-direction: column; align-items: center;
            color: #636366; transition: 0.3s; width: 60px;
        }
        .nav-btn.active { color: #fff; }
        .nav-btn.active .icon-circle { background: var(--primary); color: #fff; box-shadow: 0 0 15px var(--primary); }
        
        .icon-circle {
            width: 32px; height: 32px; border-radius: 10px;
            display: flex; align-items: center; justify-content: center;
            font-size: 18px; margin-bottom: 4px; transition: 0.3s;
        }

        /* Terminal Log */
        .terminal-box {
            background: rgba(0,0,0,0.4); border-radius: 18px; padding: 15px;
            font-family: 'Courier New', monospace; font-size: 11px; height: 100px;
            overflow-y: auto; border: 1px solid rgba(255,255,255,0.05); margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="balance-title">–ú—ñ–π –ö–∞–ø—ñ—Ç–∞–ª</div>
        <div class="balance" id="balance">500 ‚Ç¥</div>
        <div class="stats-bar">
            <div class="stat-badge" id="rank-display">–ù–û–í–ê–ß–û–ö</div>
            <div class="stat-badge" id="exp-display">0 XP</div>
        </div>
    </div>

    <div class="main-view">
        <div id="tab-temki" class="tab-content active">
            <h2 style="font-size: 14px; color: var(--accent); letter-spacing: 2px;">ACTIVE DEALS</h2>
            <div id="temki-list"></div>
            <h2 style="font-size: 14px; color: var(--accent); letter-spacing: 2px; margin-top: 30px;">LIVE LOG</h2>
            <div class="terminal-box" id="terminal"></div>
        </div>

        <div id="tab-crypto" class="tab-content">
            <h2 style="font-size: 14px; color: var(--accent); letter-spacing: 2px;">CRYPTO MARKET</h2>
            <div class="card">
                <div class="info">
                    <h3>BITCOIN / UAH</h3>
                    <p>–ë–∞–ª–∞–Ω—Å: <span id="my-btc" style="color:white">0</span> BTC</p>
                </div>
                <div class="price-tag" id="btc-price">‚Ç¥ 2,500,000</div>
            </div>
            <div style="display:flex; gap:12px; margin-top:20px;">
                <button class="btn-action" style="flex:1" onclick="buyCrypto()">BUY</button>
                <button class="btn-action" style="flex:1; background:#1c1c1e; color:#fff;" onclick="sellCrypto()">SELL</button>
            </div>
        </div>

        <div id="tab-assets" class="tab-content">
            <h2 style="font-size: 14px; color: var(--accent); letter-spacing: 2px;">COLLECTION</h2>
            <div id="shop-list"></div>
        </div>
    </div>

    <div class="nav-dock">
        <div class="nav-btn active" onclick="showTab('temki', this)">
            <div class="icon-circle">‚ö°</div><span style="font-size:9px">–¢–ï–ú–ö–ò</span>
        </div>
        <div class="nav-btn" onclick="showTab('crypto', this)">
            <div class="icon-circle">üíé</div><span style="font-size:9px">–ö–†–ò–ü–¢–ê</span>
        </div>
        <div class="nav-btn" onclick="showTab('assets', this)">
            <div class="icon-circle">üèéÔ∏è</div><span style="font-size:9px">–ê–ö–¢–ò–í–ò</span>
        </div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.enableClosingConfirmation();

        let money = Number(localStorage.getItem('money')) || 500;
        let exp = Number(localStorage.getItem('exp')) || 0;
        let btcCount = Number(localStorage.getItem('btcCount')) || 0;
        let btcPrice = 2500000;
        let ownedItems = JSON.parse(localStorage.getItem('ownedItems')) || [];

        function save() {
            localStorage.setItem('money', money);
            localStorage.setItem('exp', exp);
            localStorage.setItem('btcCount', btcCount);
            localStorage.setItem('ownedItems', JSON.stringify(ownedItems));
        }

        const temki = [
            { id: 1, name: "Drop on Prom", cost: 350, min: 20, max: 200, risk: 0.1, rank: 0 },
            { id: 2, name: "Apple Resell", cost: 12000, min: 1000, max: 4000, risk: 0.18, rank: 300 },
            { id: 3, name: "Ads Arbitrage", cost: 70000, min: -10000, max: 30000, risk: 0.3, rank: 1500 }
        ];

        const shop = [
            { id: 'lanos', name: "Lanos Gas Edition", cost: 30000, bonus: "-50% Taxes" },
            { id: 'bmw', name: "BMW M5 Competition", cost: 250000, bonus: "+25% Profit" },
            { id: 'office', name: "Unit City Office", cost: 2000000, bonus: "X2 Experience" }
        ];

        function showTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(n => n.classList.remove('active'));
            document.getElementById('tab-' + tabId).classList.add('active');
            el.classList.add('active');
            tg.HapticFeedback.selectionChanged();
        }

        function updateUI() {
            document.getElementById('balance').textContent = Math.floor(money).toLocaleString() + ' ‚Ç¥';
            document.getElementById('exp-display').textContent = exp + ' XP';
            document.getElementById('my-btc').textContent = btcCount.toFixed(4);
            
            const ranks = ["ROOKIE", "HUSTLER", "BOSS", "LEGEND"];
            let rIdx = Math.min(Math.floor(exp / 1500), ranks.length - 1);
            document.getElementById('rank-display').textContent = ranks[rIdx];

            const tList = document.getElementById('temki-list');
            tList.innerHTML = '';
            temki.forEach(t => {
                const locked = exp < t.rank;
                tList.innerHTML += `<div class="card">
                    <div class="info"><h3>${t.name} ${locked?'üîí':''}</h3><p>${locked?'Required '+t.rank+' XP':t.cost+' ‚Ç¥'}</p></div>
                    <button class="btn-action" onclick="work(${t.id})" ${money<t.cost||locked?'disabled':''}>DEAL</button>
                </div>`;
            });

            const sList = document.getElementById('shop-list');
            sList.innerHTML = '';
            shop.forEach(i => {
                const owned = ownedItems.includes(i.id);
                sList.innerHTML += `<div class="card">
                    <div class="info"><h3>${i.name}</h3><p>${owned?'COLLECTED':i.cost.toLocaleString()+' ‚Ç¥'}</p></div>
                    <button class="btn-action" onclick="buyItem('${i.id}')" ${money<i.cost||owned?'disabled':''}>${owned?'OWNED':'BUY'}</button>
                </div>`;
            });
            save();
        }

        function work(id) {
            tg.HapticFeedback.impactOccurred('medium');
            const t = temki.find(x => x.id === id);
            money -= t.cost;
            if (Math.random() < t.risk) {
                addLog(`CRITICAL FAILURE: ${t.name}`, '#ff453a');
            } else {
                let p = Math.floor(Math.random() * (t.max - t.min + 1)) + t.min;
                if(ownedItems.includes('bmw')) p = Math.floor(p * 1.25);
                money += (t.cost + p); 
                exp += ownedItems.includes('office') ? 40 : 20;
                addLog(`SUCCESSFUL DEAL: +${p} ‚Ç¥`, '#32d74b');
            }
            updateUI();
        }

        function buyCrypto() {
            if (money >= btcPrice * 0.01) {
                money -= btcPrice * 0.01; btcCount += 0.01;
                tg.HapticFeedback.notificationOccurred('success');
                updateUI();
            }
        }

        function sellCrypto() {
            if (btcCount >= 0.01) {
                money += btcPrice * 0.01; btcCount -= 0.01;
                tg.HapticFeedback.notificationOccurred('success');
                updateUI();
            }
        }

        setInterval(() => {
            let change = (Math.random() - 0.5) * 50000;
            btcPrice += change;
            const el = document.getElementById('btc-price');
            el.textContent = '‚Ç¥ ' + Math.floor(btcPrice).toLocaleString();
            el.style.color = change > 0 ? '#32d74b' : '#ff453a';
        }, 4000);

        function addLog(msg, col) {
            const l = document.getElementById('terminal');
            l.insertAdjacentHTML('afterbegin', `<div style="color:${col}; margin-bottom:6px; opacity:0.8">> ${msg}</div>`);
        }

        updateUI();
    </script>
</body>
</html>
