<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>UA Temshik Elite</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Raleway:wght@300;400;700&display=swap');
        :root {
            --accent: #3b82f6; --gold: #f59e0b; --bg: #05070a;
            --glass: rgba(23, 23, 27, 0.8); --card-border: rgba(255, 255, 255, 0.08);
            --success: #10b981; --danger: #ef4444;
        }
        body {
            margin: 0; background: var(--bg); color: #e5e7eb; font-family: 'Raleway', sans-serif;
            display: flex; flex-direction: column; align-items: center; min-height: 100vh;
            background-image: radial-gradient(circle at 50% -20%, #1e293b 0%, #05070a 80%);
        }
        .header { width: 100%; padding: 25px 20px; background: var(--glass); backdrop-filter: blur(15px); border-bottom: 1px solid var(--card-border); text-align: center; position: sticky; top: 0; z-index: 100; box-sizing: border-box; }
        .balance { font-family: 'Orbitron', sans-serif; font-size: 36px; font-weight: 700; color: var(--gold); text-shadow: 0 0 15px rgba(245, 158, 11, 0.4); }
        .status-container { display: flex; justify-content: space-around; margin-top: 15px; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 20px; }
        .stat-item { font-size: 12px; font-weight: 700; }
        .stat-item span { color: var(--accent); display: block; font-size: 10px; text-transform: uppercase; }
        .content { width: 100%; max-width: 440px; padding: 20px; box-sizing: border-box; }
        .section-title { font-family: 'Orbitron', sans-serif; font-size: 14px; margin: 25px 0 15px; color: #fff; display: flex; align-items: center; }
        .section-title::after { content: ''; flex: 1; height: 1px; background: linear-gradient(90deg, var(--accent), transparent); margin-left: 15px; }
        .card { background: var(--glass); border: 1px solid var(--card-border); border-radius: 20px; padding: 18px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; }
        .info h3 { margin: 0; font-size: 16px; color: #fff; }
        .info p { margin: 4px 0 0; font-size: 12px; color: #94a3b8; }
        .btn { border: none; padding: 10px 18px; border-radius: 12px; font-weight: 700; cursor: pointer; transition: 0.2s; }
        .btn-work { background: var(--accent); color: white; }
        .btn:active { transform: scale(0.95); }
        .btn:disabled { background: #334155 !important; opacity: 0.5; }
        .terminal { background: rgba(0, 0, 0, 0.5); border-radius: 15px; padding: 12px; font-family: monospace; font-size: 11px; height: 100px; overflow-y: auto; border: 1px solid var(--card-border); }
        .log-entry { margin-bottom: 5px; animation: slideIn 0.2s ease-out; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-5px); } to { opacity: 1; transform: translateX(0); } }
    </style>
</head>
<body>
    <div class="header">
        <div id="user-greeting" style="font-size: 12px; color: #94a3b8; margin-bottom: 5px;">–ü—Ä–∏–≤—ñ—Ç, –¢–µ–º—â–∏–∫!</div>
        <div class="balance" id="balance">500 ‚Ç¥</div>
        <div class="status-container">
            <div class="stat-item"><span>–°—Ç–∞—Ç—É—Å</span><div id="rank">–ù–æ–≤–∞—á–æ–∫</div></div>
            <div class="stat-item"><span>–î–æ—Å–≤—ñ–¥</span><div id="exp">0</div></div>
        </div>
    </div>
    <div class="content">
        <div class="section-title">–ì–ê–†–Ø–ß–Ü –¢–ï–ú–ö–ò</div>
        <div id="temki-list"></div>
        <div class="section-title">–ê–ö–¢–ò–í–ò</div>
        <div id="shop-list"></div>
        <div class="section-title">–õ–û–ì –°–£–Ñ–¢–ò</div>
        <div class="terminal" id="terminal"></div>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let money = 500; let exp = 0; let ownedItems = [];

        if (tg.initDataUnsafe.user) {
            document.getElementById('user-greeting').textContent = `–°—É—î—Ç–æ–ª–æ–≥: ${tg.initDataUnsafe.user.first_name}`;
        }

        const temki = [
            { id: 1, name: "–î—Ä–æ–ø—à–∏–ø—ñ–Ω–≥", cost: 300, min: 20, max: 150, risk: 0.1, rank: 0 },
            { id: 2, name: "iPhone –∑ –°–®–ê", cost: 10000, min: 1000, max: 3000, risk: 0.15, rank: 200 },
            { id: 3, name: "–ê—Ä–±—ñ—Ç—Ä–∞–∂", cost: 50000, min: -10000, max: 20000, risk: 0.25, rank: 1000 }
        ];

        const shop = [
            { id: 'lanos', name: "–õ–∞–Ω–æ—Å", cost: 20000, bonus: "-50% –ø–æ–¥–∞—Ç–∫—ñ–≤" },
            { id: 'bmw', name: "BMW M5", cost: 150000, bonus: "+20% –ø—Ä–æ—Ñ—ñ—Ç—É" }
        ];

        function updateUI() {
            document.getElementById('balance').textContent = Math.floor(money).toLocaleString() + ' ‚Ç¥';
            document.getElementById('exp').textContent = exp;
            
            const tList = document.getElementById('temki-list');
            tList.innerHTML = '';
            temki.forEach(t => {
                const locked = exp < t.rank;
                tList.innerHTML += `<div class="card"><div class="info"><h3>${t.name} ${locked?'üîí':''}</h3><p>${locked?'XP: '+t.rank:t.cost+' ‚Ç¥'}</p></div>
                <button class="btn btn-work" onclick="work(${t.id})" ${money<t.cost||locked?'disabled':''}>–í–æ—Ä–≤–∞—Ç–∏—Å—å</button></div>`;
            });

            const sList = document.getElementById('shop-list');
            sList.innerHTML = '';
            shop.forEach(item => {
                const isOwned = ownedItems.includes(item.id);
                sList.innerHTML += `<div class="card"><div class="info"><h3>${item.name}</h3><p style="color:var(--gold)">${isOwned?'–ö–£–ü–õ–ï–ù–û':item.bonus}</p></div>
                <button class="btn" style="background:var(--gold)" onclick="buyItem('${item.id}')" ${money<item.cost||isOwned?'disabled':''}>${isOwned?'‚úîÔ∏è':item.cost+' ‚Ç¥'}</button></div>`;
            });
        }

        function work(id) {
            tg.HapticFeedback.impactOccurred('medium');
            const t = temki.find(i => i.id === id);
            money -= t.cost;
            if (Math.random() < t.risk) {
                addLog(`> [–°–ö–ê–ú] ${t.name}. -${t.cost} ‚Ç¥`, '#ef4444');
            } else {
                let p = Math.floor(Math.random() * (t.max - t.min + 1)) + t.min;
                if(ownedItems.includes('bmw')) p = Math.floor(p * 1.2);
                money += (t.cost + p); exp += 15;
                addLog(`> [–ü–†–û–§–Ü–¢] ${t.name}: +${p} ‚Ç¥`, '#10b981');
            }
            updateUI();
        }

        function buyItem(id) {
            const item = shop.find(i => i.id === id);
            if (money >= item.cost && !ownedItems.includes(id)) {
                money -= item.cost;
                ownedItems.push(id);
                addLog(`> [–ú–ê–ô–ù–û] –ö—É–ø–ª–µ–Ω–æ: ${item.name}`, 'var(--gold)');
                updateUI();
            }
        }

        function addLog(txt, col) {
            const el = document.getElementById('terminal');
            el.insertAdjacentHTML('afterbegin', `<div class="log-entry" style="color:${col}">${txt}</div>`);
        }

        updateUI();
    </script>
</body>
</html>
