<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Temshik Elite</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&display=swap');

:root{
--bg:#0b0c10;
--card:#1c1d26;
--primary:#5d5fef;
--gold:#ffcf52;
--success:#4ade80;
--danger:#f87171;
}

*{box-sizing:border-box}

body{
margin:0;
font-family:Manrope,sans-serif;
background:var(--bg);
color:#fff;
height:100vh;
display:flex;
flex-direction:column;
overflow:hidden;
}

.profile-header{
padding:45px 20px 15px;
}

.user-info{
display:flex;
gap:12px;
align-items:center;
}

.avatar{
width:44px;height:44px;
border-radius:14px;
background:var(--primary);
display:flex;
align-items:center;
justify-content:center;
font-weight:800;
}

.balance-card{
margin-top:15px;
background:rgba(255,255,255,0.04);
border-radius:24px;
padding:20px;
border:1px solid rgba(255,255,255,0.08);
}

.bal-label{
font-size:11px;
letter-spacing:1px;
color:#aaa;
font-weight:700;
}

.bal-amount{
font-size:34px;
font-weight:800;
margin:4px 0 12px;
}

.energy-section{margin-top:10px}

.energy-header{
display:flex;
justify-content:space-between;
font-size:11px;
font-weight:700;
}

.bar{
height:8px;
border-radius:8px;
background:rgba(255,255,255,0.1);
overflow:hidden;
margin-top:6px;
}

.bar-inner{
height:100%;
transition:.3s;
}

.energy{background:linear-gradient(90deg,#00f2ff,var(--primary))}
.rep{background:linear-gradient(90deg,#facc15,#f97316)}

.viewport{
flex:1;
overflow-y:auto;
padding:20px;
padding-bottom:120px;
}

.tab{display:none;animation:fade .25s}
.tab.active{display:block}

@keyframes fade{
from{opacity:0;transform:translateY(15px)}
to{opacity:1;transform:none}
}

.section-title{
font-size:12px;
font-weight:800;
color:#777;
margin:20px 0 10px;
}

.card{
background:var(--card);
border-radius:20px;
padding:16px;
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:12px;
border:1px solid rgba(255,255,255,0.04);
}

.card-info h3{margin:0;font-size:15px}
.card-info p{margin:4px 0 0;font-size:12px;color:#aaa}

.btn{
background:var(--primary);
border:none;
color:#fff;
padding:10px 16px;
border-radius:14px;
font-weight:700;
}

.btn.alt{background:var(--gold);color:#000}

.btn:disabled{opacity:.4}

.log{
background:rgba(0,0,0,.25);
border-radius:16px;
padding:12px;
font-size:11px;
height:120px;
overflow-y:auto;
}

.log-item{
margin-bottom:6px;
padding-left:8px;
border-left:3px solid var(--primary);
}

.nav{
position:fixed;
bottom:20px;
left:20px;
right:20px;
height:72px;
border-radius:26px;
background:rgba(28,29,38,.95);
display:flex;
justify-content:space-around;
align-items:center;
backdrop-filter:blur(15px);
}

.nav-item{
font-size:10px;
font-weight:700;
color:#666;
text-align:center;
}

.nav-item.active{color:var(--primary)}
.nav-icon{font-size:22px}
</style>
</head>

<body>

<div class="profile-header">
  <div class="user-info">
    <div class="avatar" id="avatar">–¢</div>
    <div>
      <strong id="name">–¢–µ–º—â–∏–∫</strong><br>
      <small id="levelName">–ù–æ–≤–∞—á–æ–∫</small>
    </div>
  </div>

  <div class="balance-card">
    <div class="bal-label">–ö–ê–ü–Ü–¢–ê–õ</div>
    <div class="bal-amount" id="money">0 ‚Ç¥</div>

    <div class="energy-section">
      <div class="energy-header"><span>–ï–ù–ï–†–ì–Ü–Ø</span><span id="energyVal">100%</span></div>
      <div class="bar"><div class="bar-inner energy" id="energyBar"></div></div>
    </div>

    <div class="energy-section">
      <div class="energy-header"><span>–†–ï–ü–£–¢–ê–¶–Ü–Ø</span><span id="repVal">0</span></div>
      <div class="bar"><div class="bar-inner rep" id="repBar"></div></div>
    </div>
  </div>
</div>

<div class="viewport">

<div id="tab-work" class="tab active">
  <div class="section-title">üöÄ –°–•–ï–ú–ò</div>
  <div id="schemeList"></div>

  <div class="section-title">üìú –ñ–£–†–ù–ê–õ</div>
  <div class="log" id="log"></div>
</div>

<div id="tab-food" class="tab">
  <div class="section-title">‚òï –í–Ü–î–ù–û–í–õ–ï–ù–ù–Ø –ï–ù–ï–†–ì–Ü–á</div>
  <div id="foodList"></div>
</div>

<div id="tab-assets" class="tab">
  <div class="section-title">üì¶ –ê–ö–¢–ò–í–ò</div>
  <div class="card"><p style="color:#777">–ü–æ–∫–∏ —â–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</p></div>
</div>

</div>

<nav class="nav">
  <div class="nav-item active" onclick="showTab('work',this)">
    <div class="nav-icon">üí∏</div>–¢–µ–º–∫–∏
  </div>
  <div class="nav-item" onclick="showTab('food',this)">
    <div class="nav-icon">‚òï</div>–á–∂–∞
  </div>
  <div class="nav-item" onclick="showTab('assets',this)">
    <div class="nav-icon">üì¶</div>–ê–∫—Ç–∏–≤–∏
  </div>
</nav>

<script>
const tg=window.Telegram.WebApp;tg.expand();

let state=JSON.parse(localStorage.getItem('state'))||{
money:1000,energy:100,rep:10,level:0
};

const levels=[
{name:"–ù–æ–≤–∞—á–æ–∫",rep:0},
{name:"–®–Ω–∏—Ä—å",rep:30},
{name:"–ú—É—Ç–Ω–∏–π",rep:80},
{name:"–ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç",rep:150},
{name:"–õ–µ–≥–µ–Ω–¥–∞",rep:300}
];

const schemes=[
{name:"OLX –¥—Ä–æ–ø",cost:200,min:-100,max:300,energy:15,risk:.2,rep:3},
{name:"–§–µ–π–∫ –º–∞–≥–∞–∑–∏–Ω",cost:3000,min:-1500,max:6000,energy:30,risk:.35,rep:7},
{name:"–ö—Ä–∏–ø—Ç–æ —Å–∫–∞–º",cost:12000,min:-6000,max:20000,energy:45,risk:.5,rep:12}
];

const food=[
{name:"‚òï –ï—Å–ø—Ä–µ—Å–æ",cost:50,energy:15},
{name:"ü•§ –ï–Ω–µ—Ä–≥–µ—Ç–∏–∫",cost:120,energy:30},
{name:"üåØ –®–∞—É—Ä–º–∞",cost:250,energy:60}
];

function save(){localStorage.setItem('state',JSON.stringify(state));}

function log(msg,color){
logDiv.insertAdjacentHTML('afterbegin',
`<div class="log-item" style="border-color:${color}">${msg}</div>`);
}

function checkLevel(){
for(let i=levels.length-1;i>=0;i--){
if(state.rep>=levels[i].rep){state.level=i;break;}
}
}

function runScheme(i){
let s=schemes[i];
if(state.energy<s.energy||state.money<s.cost)return;
state.energy-=s.energy;
state.money-=s.cost;
if(Math.random()<s.risk){
state.rep=Math.max(0,state.rep-5);
state.money+=s.cost+s.min;
log(`‚ùå –ö–∏–¥–æ–∫ ${s.min} ‚Ç¥`,'var(--danger)');
}else{
let p=Math.floor(Math.random()*(s.max-s.min+1))+s.min;
state.rep+=s.rep;
state.money+=s.cost+p;
log(`üí∞ –ü–ª—é—Å ${p} ‚Ç¥`,'var(--success)');
}
checkLevel();update();
}

function eat(i){
let f=food[i];
if(state.money<f.cost||state.energy>=100)return;
state.money-=f.cost;
state.energy=Math.min(100,state.energy+f.energy);
log(`‚ö° +${f.energy}% –µ–Ω–µ—Ä–≥—ñ—ó`,'var(--primary)');
update();
}

function update(){
money.textContent=state.money.toLocaleString()+" ‚Ç¥";
energyVal.textContent=Math.floor(state.energy)+"%";
energyBar.style.width=state.energy+"%";
repVal.textContent=state.rep;
repBar.style.width=Math.min(100,state.rep/3)+"%";
levelName.textContent=levels[state.level].name;

schemeList.innerHTML='';
schemes.forEach((s,i)=>{
schemeList.innerHTML+=`
<div class="card">
<div class="card-info">
<h3>${s.name}</h3>
<p>–†–∏–∑–∏–∫ ${(s.risk*100).toFixed(0)}% | -${s.energy}‚ö°</p>
</div>
<button class="btn" onclick="runScheme(${i})"
${state.energy<s.energy||state.money<s.cost?'disabled':''}>–ö—Ä—É—Ç–∏—Ç–∏</button>
</div>`;
});

foodList.innerHTML='';
food.forEach((f,i)=>{
foodList.innerHTML+=`
<div class="card">
<div class="card-info">
<h3>${f.name}</h3>
<p>${f.cost} ‚Ç¥ | +${f.energy}%</p>
</div>
<button class="btn alt" onclick="eat(${i})"
${state.money<f.cost||state.energy>=100?'disabled':''}>–ö—É–ø–∏—Ç–∏</button>
</div>`;
});
save();
}

function showTab(name,el){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active'));
document.getElementById('tab-'+name).classList.add('active');
el.classList.add('active');
}

setInterval(()=>{if(state.energy<100){state.energy+=0.4;update();}},4000);
update();
</script>

</body>
</html>
