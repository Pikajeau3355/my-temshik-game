<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Temshik Elite v3</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&display=swap');

:root{
--bg:#0b0c10;--card:#1c1d26;--primary:#5d5fef;
--gold:#ffcf52;--success:#4ade80;--danger:#f87171;
}

*{box-sizing:border-box}
body{
margin:0;font-family:Manrope,sans-serif;background:var(--bg);
color:#fff;height:100vh;display:flex;flex-direction:column;overflow:hidden;
}

.header{padding:40px 20px 15px}
.user{display:flex;gap:12px;align-items:center}
.avatar{width:44px;height:44px;border-radius:14px;background:var(--primary);
display:flex;align-items:center;justify-content:center;font-weight:800}

.card-main{
margin-top:14px;background:rgba(255,255,255,.04);
border-radius:24px;padding:18px;border:1px solid rgba(255,255,255,.08)
}

.bal{font-size:34px;font-weight:800;margin:6px 0}
.small{font-size:11px;color:#aaa;font-weight:700}

.bar{height:8px;border-radius:8px;background:rgba(255,255,255,.1);overflow:hidden}
.fill{height:100%;transition:.3s}
.energy{background:linear-gradient(90deg,#00f2ff,var(--primary))}
.rep{background:linear-gradient(90deg,#facc15,#f97316)}

.viewport{flex:1;overflow-y:auto;padding:20px;padding-bottom:130px}
.tab{display:none}
.tab.active{display:block;animation:fade .25s}
@keyframes fade{from{opacity:0;transform:translateY(12px)}to{opacity:1}}

.section{font-size:12px;font-weight:800;color:#777;margin:18px 0 10px}

.card{
background:var(--card);border-radius:20px;padding:15px;
display:flex;justify-content:space-between;align-items:center;margin-bottom:10px
}

.card h3{margin:0;font-size:15px}
.card p{margin:4px 0 0;font-size:12px;color:#aaa}

.btn{
background:var(--primary);border:none;color:#fff;
padding:10px 16px;border-radius:14px;font-weight:700
}
.btn.gold{background:var(--gold);color:#000}
.btn:disabled{opacity:.4}

.log{
background:rgba(0,0,0,.25);border-radius:16px;padding:12px;
font-size:11px;height:130px;overflow-y:auto
}
.log div{margin-bottom:6px;border-left:3px solid var(--primary);padding-left:8px}

.nav{
position:fixed;bottom:20px;left:20px;right:20px;height:72px;
border-radius:26px;background:rgba(28,29,38,.95);
display:flex;justify-content:space-around;align-items:center
}
.nav-item{font-size:10px;font-weight:700;color:#666;text-align:center}
.nav-item.active{color:var(--primary)}
.nav-icon{font-size:22px}
</style>
</head>

<body>

<div class="header">
  <div class="user">
    <div class="avatar" id="avatar">–¢</div>
    <div>
      <strong id="name">–¢–µ–º—â–∏–∫</strong><br>
      <small id="lvlName">–ù–æ–≤–∞—á–æ–∫</small>
    </div>
  </div>

  <div class="card-main">
    <div class="small">–ö–ê–ü–Ü–¢–ê–õ</div>
    <div class="bal" id="money">0 ‚Ç¥</div>

    <div class="small">–ï–ù–ï–†–ì–Ü–Ø <span id="energyVal"></span></div>
    <div class="bar"><div class="fill energy" id="energyBar"></div></div>

    <div class="small" style="margin-top:8px">–†–ï–ü–£–¢–ê–¶–Ü–Ø <span id="repVal"></span></div>
    <div class="bar"><div class="fill rep" id="repBar"></div></div>
  </div>
</div>

<div class="viewport">

<div id="tab-work" class="tab active">
  <div class="section">üöÄ –°–•–ï–ú–ò</div>
  <div id="schemeList"></div>
  <div class="section">üìú –ñ–£–†–ù–ê–õ</div>
  <div class="log" id="log"></div>
</div>

<div id="tab-food" class="tab">
  <div class="section">‚òï –í–Ü–î–ù–û–í–õ–ï–ù–ù–Ø</div>
  <div id="foodList"></div>
</div>

<div id="tab-assets" class="tab">
  <div class="section">üíº –ê–ö–¢–ò–í–ò</div>
  <div id="assetList"></div>
</div>

<div id="tab-ach" class="tab">
  <div class="section">üèÜ –î–û–°–Ø–ì–ù–ï–ù–ù–Ø</div>
  <div id="achList"></div>
</div>

<div id="tab-rank" class="tab">
  <div class="section">üåç –†–ï–ô–¢–ò–ù–ì</div>
  <div id="rankList"></div>
</div>

</div>

<nav class="nav">
  <div class="nav-item active" onclick="tab('work',this)"><div class="nav-icon">üí∏</div>–¢–µ–º–∫–∏</div>
  <div class="nav-item" onclick="tab('food',this)"><div class="nav-icon">‚òï</div>–á–∂–∞</div>
  <div class="nav-item" onclick="tab('assets',this)"><div class="nav-icon">üíº</div>–ê–∫—Ç–∏–≤–∏</div>
  <div class="nav-item" onclick="tab('ach',this)"><div class="nav-icon">üèÜ</div>–¢—Ä–æ—Ñ–µ—ó</div>
  <div class="nav-item" onclick="tab('rank',this)"><div class="nav-icon">üåç</div>–¢–û–ü</div>
</nav>

<script>
const tg=window.Telegram.WebApp;tg.expand();
const uid=tg.initDataUnsafe?.user?.id||Math.floor(Math.random()*1e6);
name.textContent=tg.initDataUnsafe?.user?.first_name||'–¢–µ–º—â–∏–∫';
avatar.textContent=name.textContent[0];

let S=JSON.parse(localStorage.getItem('S'+uid))||{
money:1000,energy:100,rep:10,level:0,
assets:[],ach:{},protect:0
};

const levels=[
{n:"–ù–æ–≤–∞—á–æ–∫",r:0},{n:"–®–Ω–∏—Ä—å",r:30},{n:"–ú—É—Ç–Ω–∏–π",r:80},
{n:"–ê–≤—Ç–æ—Ä–∏—Ç–µ—Ç",r:150},{n:"–õ–µ–≥–µ–Ω–¥–∞",r:300}
];

const schemes=[
{n:"OLX –¥—Ä–æ–ø",c:200,min:-100,max:300,e:15,r:.2,rep:3},
{n:"–§–µ–π–∫ –º–∞–≥–∞–∑–∏–Ω",c:3000,min:-1500,max:6000,e:30,r:.35,rep:7},
{n:"–ö—Ä–∏–ø—Ç–æ —Å–∫–∞–º",c:12000,min:-6000,max:20000,e:45,r:.5,rep:12}
];

const food=[
{n:"‚òï –ö–∞–≤–∞",c:50,e:15},
{n:"ü•§ –ï–Ω–µ—Ä–≥–µ—Ç–∏–∫",c:120,e:30},
{n:"üåØ –®–∞—É—Ä–º–∞",c:250,e:60}
];

const assets=[
{n:"VPN",c:2000,inc:20},
{n:"SIM-—Å—ñ—Ç–∫–∞",c:8000,inc:60},
{n:"–î—Ä–æ–ø-–º–µ—Ä–µ–∂–∞",c:20000,inc:150}
];

const achListDef=[
{id:'first',t:"–ü–µ—Ä—à–∏–π –ø–ª—é—Å"},
{id:'rich',t:"100k –∫–∞–ø—ñ—Ç–∞–ª—É"},
{id:'rep',t:"–†–µ–ø—É—Ç–∞—Ü—ñ—è 100+"}
];

function save(){localStorage.setItem('S'+uid,JSON.stringify(S));}

function log(m,col='var(--primary)'){
logDiv.insertAdjacentHTML('afterbegin',`<div style="border-color:${col}">${m}</div>`);
}

function levelCheck(){
for(let i=levels.length-1;i>=0;i--)if(S.rep>=levels[i].r){S.level=i;break;}
}

function scheme(i){
let s=schemes[i];
if(S.energy<s.e||S.money<s.c)return;
S.energy-=s.e;S.money-=s.c;

if(Math.random()<.1 && S.protect==0){
S.money-=500;S.rep=Math.max(0,S.rep-10);
log("üö® –ú–∞—Å–∫–∏-—à–æ—É! -500 ‚Ç¥",'var(--danger)');
}

let jackpot=Math.random()<.05;
let fail=Math.random()<s.r;

if(fail){
S.money+=s.c+s.min;
log("‚ùå –ö–∏–¥–æ–∫ "+s.min+" ‚Ç¥",'var(--danger)');
}else{
let p=Math.floor(Math.random()*(s.max-s.min+1))+s.min;
if(jackpot){p*=5;log("üé∞ –î–ñ–ï–ö–ü–û–¢ x5!",'var(--gold)')}
S.money+=s.c+p;S.rep+=s.rep;
log("üí∞ +"+p+" ‚Ç¥",'var(--success)');
}

randomEvent();
levelCheck();update();
}

function randomEvent(){
let r=Math.random();
if(r<.05){S.protect=3;log("ü§ù –ö—Ä–∏—à–∞ –Ω–∞ 3 —Ö–æ–¥–∏")}
if(r>.95){S.money-=300;log("üí£ –í—Ç—Ä–∞—á–µ–Ω–æ –¥—Ä–æ–ø -300 ‚Ç¥",'var(--danger)')}
}

function eat(i){
let f=food[i];
if(S.money<f.c||S.energy>=100)return;
S.money-=f.c;S.energy=Math.min(100,S.energy+f.e);
log("‚ö° +"+f.e+"% –µ–Ω–µ—Ä–≥—ñ—ó");
update();
}

function buyAsset(i){
let a=assets[i];
if(S.money<a.c||S.assets.includes(i))return;
S.money-=a.c;S.assets.push(i);
log("üíº –ö—É–ø–ª–µ–Ω–æ "+a.n,'var(--gold)');
update();
}

setInterval(()=>{
let inc=0;
S.assets.forEach(i=>inc+=assets[i].inc);
if(inc>0){S.money+=inc;log("üìà –ü–∞—Å–∏–≤ +"+inc+" ‚Ç¥")}
update();
},60000);

function update(){
money.textContent=S.money.toLocaleString()+" ‚Ç¥";
energyVal.textContent=Math.floor(S.energy)+"%";
energyBar.style.width=S.energy+"%";
repVal.textContent=S.rep;
repBar.style.width=Math.min(100,S.rep/3)+"%";
lvlName.textContent=levels[S.level].n;

schemeList.innerHTML='';
schemes.forEach((s,i)=>schemeList.innerHTML+=`
<div class="card">
<div><h3>${s.n}</h3><p>–†–∏–∑–∏–∫ ${(s.r*100).toFixed(0)}%</p></div>
<button class="btn" onclick="scheme(${i})">–ö—Ä—É—Ç–∏—Ç–∏</button>
</div>`);

foodList.innerHTML='';
food.forEach((f,i)=>foodList.innerHTML+=`
<div class="card">
<div><h3>${f.n}</h3><p>${f.c} ‚Ç¥ | +${f.e}%</p></div>
<button class="btn gold" onclick="eat(${i})">–ö—É–ø–∏—Ç–∏</button>
</div>`);

assetList.innerHTML='';
assets.forEach((a,i)=>assetList.innerHTML+=`
<div class="card">
<div><h3>${a.n}</h3><p>${a.c} ‚Ç¥ | +${a.inc}/—Ö–≤</p></div>
<button class="btn" onclick="buyAsset(${i})"
${S.assets.includes(i)?'disabled':''}>${S.assets.includes(i)?'–Ñ':'–ö—É–ø–∏—Ç–∏'}</button>
</div>`);

achList.innerHTML='';
achListDef.forEach(a=>achList.innerHTML+=`
<div class="card"><h3>${a.t}</h3></div>`);

save();
}

function tab(n,e){
document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
document.querySelectorAll('.nav-item').forEach(x=>x.classList.remove('active'));
document.getElementById('tab-'+n).classList.add('active');
e.classList.add('active');
}

setInterval(()=>{if(S.energy<100){S.energy+=0.4;update()}},4000);
update();
</script>

</body>
</html>
